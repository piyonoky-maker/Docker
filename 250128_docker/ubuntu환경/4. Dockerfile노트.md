## Dockerfile 노트

```bash
docker pull nginx
```
- Docker이미지는 Dockerhub를 통해 다운받아 사용이 가능함.
- 도커이미지는 어떻게 만드는 걸까?

### Dockerfile이란?
- Docker이미지를 만들게 해주는 파일이다.
Dockerfile을 통해서 Docker이미지를 만들 수 있다.

### FROM: 베이스 이미지 생성
- FROM은 베이스 이미지를 생성하는 역할을 한다.
- 만일 Spring Boot프로젝트나 NodeJS프로젝트를 이미지로 만들고 싶다면.
- 누군가는 JDK가 깔려 있었으면... 또 다른 이는 NodeJS가 설치되어 있으면...
- 필요에 따라서 베이스 이미지를 고를 수 있다.

```dockerfile
FROM [이미지명]
FROM [이미지명]:[태그명]
# 만일 태그명을 적지 않으면 latest버전을 사용한다.
```

```bash
# 이미지 생성하기
docker build -t ubuntu-server .
# 이미지 목록 보기
docker image ls
# 이미지로 컨테이너 실행하기
docker run -d ubuntu-server
# 컨테이너 목록 보기
docker ps
# 컨테이너가 실행되고 나면 자동 종료됨
# 컨테이너 로그 보기
docker logs 컨테이너ID
# 컨테이너 내부 들어가기
docker exec -it 컨테이너ID bash
```

### COPY: 파일 복사(이동)
- COPY는 호스트 컴퓨터에 있는 파일을 복사해서 컨테이너로 전달함

사용법<br>
```dockerfile
COPY [호스트 컴퓨터에 있는 복사할 파일의 경로][컨테이너 파일이 위치할 경로]
COPY a.txt /a.txt
```

### RUN 과 ENTRYPOINT
`RUN`은 **이미지 생성 과정** 에서 필요한 명령어를 실행할 때 사용<br>
`ENTRYPOINT`는 생성된 이미지를 기반으로 **컨테이너를 생성한 직후**에 명령어를<br>
실행시킬 때 사용함.